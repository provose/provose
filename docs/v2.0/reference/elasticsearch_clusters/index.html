<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-156547622-4"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-156547622-4'); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>elasticsearch_clusters | Provose</title> <meta name="generator" content="Jekyll v3.9.0" /> <meta property="og:title" content="elasticsearch_clusters" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Provose is the easiest way to manage your Amazon Web Services infrastructure." /> <meta property="og:description" content="Provose is the easiest way to manage your Amazon Web Services infrastructure." /> <link rel="canonical" href="/v2.0/reference/elasticsearch_clusters/" /> <meta property="og:url" content="/v2.0/reference/elasticsearch_clusters/" /> <meta property="og:site_name" content="Provose" /> <meta property="og:image" content="/assets/images/1x/twitter-facebook-preview-card-1x.png" /> <meta name="twitter:card" content="summary_large_image" /> <meta property="twitter:image" content="/assets/images/1x/twitter-facebook-preview-card-1x.png" /> <meta property="twitter:title" content="elasticsearch_clusters" /> <meta name="twitter:site" content="@neocrym" /> <script type="application/ld+json"> {"description":"Provose is the easiest way to manage your Amazon Web Services infrastructure.","@type":"WebPage","headline":"elasticsearch_clusters","url":"/v2.0/reference/elasticsearch_clusters/","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"/assets/images/1x/logo-black-on-transparent-1x.png"}},"image":"/assets/images/1x/twitter-facebook-preview-card-1x.png","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"> <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"> <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"> <link rel="manifest" href="/site.webmanifest"> <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#2869e6"> <meta name="msapplication-TileColor" content="#2869e6"> <meta name="theme-color" content="#ffffff"> <!-- From https://www.osano.com/cookieconsent/download/ --> <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css" /> <!-- From https://www.osano.com/cookieconsent/download/ --> <script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script> <script> window.cookieconsent.initialise({ "palette": { "popup": { "background": "#252e39" }, "button": { "background": "#14a7d0" } }, "theme": "edgeless", "content": { "message": "Provose uses cookies in order for us to better understand users and catch our own mistakes.", "href": "https://provose.com/privacy/" } }); </script> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="/" class="site-title lh-tight"> <div class="site-logo"></div> </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="/about/" class="nav-list-link">About</a></li><li class="nav-list-item"><a href="/contributing/" class="nav-list-link">Contributing to Provose</a></li><li class="nav-list-item"><a href="/changelog/" class="nav-list-link">Changelog</a></li><li class="nav-list-item"><a href="/philosophy/" class="nav-list-link">Philosophy</a></li><li class="nav-list-item"><a href="/security/" class="nav-list-link">Security</a></li><li class="nav-list-item"><a href="/naming/" class="nav-list-link">DNS and naming conventions</a></li><li class="nav-list-item"><a href="/amazon-machine-images-amis/" class="nav-list-link">Amazon Machine Images (AMIs)</a></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v3.0/" class="nav-list-link">Docs v3.0 (Stable)</a><ul class="nav-list "><li class="nav-list-item "><a href="/v3.0/release-notes/" class="nav-list-link">Release notes</a></li><li class="nav-list-item "><a href="/v3.0/tutorial/" class="nav-list-link">Tutorial</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v3.0/reference/" class="nav-list-link">Reference v3.0 (Stable)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/v3.0/reference/batch/" class="nav-list-link">batch</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/containers/" class="nav-list-link">containers</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/ec2_on_demand_instances/" class="nav-list-link">ec2_on_demand_instances</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/ec2_spot_instances/" class="nav-list-link">ec2_spot_instances</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/elastic_file_systems/" class="nav-list-link">elastic_file_systems</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/elasticsearch_clusters/" class="nav-list-link">elasticsearch_clusters</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/https_redirects/" class="nav-list-link">https_redirects</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/images/" class="nav-list-link">images</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/lustre_file_systems/" class="nav-list-link">lustre_file_systems</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/mysql_clusters/" class="nav-list-link">mysql_clusters</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/overrides/" class="nav-list-link">overrides</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/postgresql_clusters/" class="nav-list-link">postgresql_clusters</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/provose_config/" class="nav-list-link">provose_config</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/redis_clusters/" class="nav-list-link">redis_clusters</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/s3_buckets/" class="nav-list-link">s3_buckets</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/secrets/" class="nav-list-link">secrets</a> </li><li class="nav-list-item "> <a href="/v3.0/reference/source/" class="nav-list-link">source</a> </li></ul></li><li class="nav-list-item "><a href="/v3.0/debugging/" class="nav-list-link">Debugging</a></li><li class="nav-list-item "><a href="/v3.0/uninstalling/" class="nav-list-link">Uninstalling Provose</a></li></ul></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v2.0/" class="nav-list-link">Docs v2.0 (Deprecated)</a><ul class="nav-list "><li class="nav-list-item "><a href="/v2.0/release-notes/" class="nav-list-link">Release notes</a></li><li class="nav-list-item "><a href="/v2.0/tutorial/" class="nav-list-link">Tutorial</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v2.0/reference/" class="nav-list-link">Reference v2.0 (Deprecated)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/v2.0/reference/batch/" class="nav-list-link">batch</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/containers/" class="nav-list-link">containers</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/ec2_on_demand_instances/" class="nav-list-link">ec2_on_demand_instances</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/ec2_spot_instances/" class="nav-list-link">ec2_spot_instances</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/elastic_file_systems/" class="nav-list-link">elastic_file_systems</a> </li><li class="nav-list-item active"> <a href="/v2.0/reference/elasticsearch_clusters/" class="nav-list-link active">elasticsearch_clusters</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/https_redirects/" class="nav-list-link">https_redirects</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/images/" class="nav-list-link">images</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/lustre_file_systems/" class="nav-list-link">lustre_file_systems</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/mysql_clusters/" class="nav-list-link">mysql_clusters</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/overrides/" class="nav-list-link">overrides</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/postgresql_clusters/" class="nav-list-link">postgresql_clusters</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/provose_config/" class="nav-list-link">provose_config</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/redis_clusters/" class="nav-list-link">redis_clusters</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/s3_buckets/" class="nav-list-link">s3_buckets</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/secrets/" class="nav-list-link">secrets</a> </li><li class="nav-list-item "> <a href="/v2.0/reference/source/" class="nav-list-link">source</a> </li></ul></li><li class="nav-list-item "><a href="/v2.0/debugging/" class="nav-list-link">Debugging</a></li><li class="nav-list-item "><a href="/v2.0/uninstalling/" class="nav-list-link">Uninstalling Provose</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v1.1/" class="nav-list-link">Docs v1.1 (Deprecated)</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.1/release-notes/" class="nav-list-link">Release notes</a></li><li class="nav-list-item "><a href="/v1.1/tutorial/" class="nav-list-link">Tutorial</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v1.1/reference/" class="nav-list-link">Reference v1.1 (Deprecated)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/v1.1/reference/containers/" class="nav-list-link">containers</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/ec2_instances/" class="nav-list-link">ec2_instances</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/elasticsearch_clusters/" class="nav-list-link">elasticsearch_clusters</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/images/" class="nav-list-link">images</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/mysql_clusters/" class="nav-list-link">mysql_clusters</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/overrides/" class="nav-list-link">overrides</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/postgresql_clusters/" class="nav-list-link">postgresql_clusters</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/provose_config/" class="nav-list-link">provose_config</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/redis_clusters/" class="nav-list-link">redis_clusters</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/s3_buckets/" class="nav-list-link">s3_buckets</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/secrets/" class="nav-list-link">secrets</a> </li><li class="nav-list-item "> <a href="/v1.1/reference/source/" class="nav-list-link">source</a> </li></ul></li><li class="nav-list-item "><a href="/v1.1/debugging/" class="nav-list-link">Debugging</a></li><li class="nav-list-item "><a href="/v1.1/uninstalling/" class="nav-list-link">Uninstalling Provose</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v1.0/" class="nav-list-link">Docs v1.0 (Deprecated)</a><ul class="nav-list "><li class="nav-list-item "><a href="/v1.0/release-notes/" class="nav-list-link">Release notes</a></li><li class="nav-list-item "><a href="/v1.0/tutorial/" class="nav-list-link">Tutorial</a></li><li class="nav-list-item "><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="/v1.0/reference/" class="nav-list-link">Reference v1.0 (Deprecated)</a><ul class="nav-list"><li class="nav-list-item "> <a href="/v1.0/reference/containers/" class="nav-list-link">containers</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/ec2_instances/" class="nav-list-link">ec2_instances</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/elasticsearch_clusters/" class="nav-list-link">elasticsearch_clusters</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/images/" class="nav-list-link">images</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/mysql_clusters/" class="nav-list-link">mysql_clusters</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/overrides/" class="nav-list-link">overrides</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/postgresql_clusters/" class="nav-list-link">postgresql_clusters</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/provose_config/" class="nav-list-link">provose_config</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/redis_clusters/" class="nav-list-link">redis_clusters</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/s3_buckets/" class="nav-list-link">s3_buckets</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/secrets/" class="nav-list-link">secrets</a> </li><li class="nav-list-item "> <a href="/v1.0/reference/source/" class="nav-list-link">source</a> </li></ul></li><li class="nav-list-item "><a href="/v1.0/debugging/" class="nav-list-link">Debugging</a></li><li class="nav-list-item "><a href="/v1.0/uninstalling/" class="nav-list-link">Uninstalling Provose</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Provose" aria-label="Search Provose" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/provose/provose/" class="site-button" > Provose on GitHub </a> </li> <li class="aux-nav-list-item"> <a href="https://www.neocrym.com" class="site-button" > Neocrym.com </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/v2.0/">Docs v2.0 (Deprecated)</a></li> <li class="breadcrumb-nav-list-item"><a href="/v2.0/reference/">Reference v2.0 (Deprecated)</a></li> <li class="breadcrumb-nav-list-item"><span>elasticsearch_clusters</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="elasticsearch_clusters"> <a href="#elasticsearch_clusters" class="anchor-heading" aria-labelledby="elasticsearch_clusters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> elasticsearch_clusters </h1> <h2 id="description"> <a href="#description" class="anchor-heading" aria-labelledby="description"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Description </h2> <p>The Provose <code class="language-plaintext highlighter-rouge">elasticsearch_clusters</code> creates <a href="https://www.elastic.co/">Elasticsearch</a> clusters on the <a href="https://aws.amazon.com/elasticsearch-service/">Amazon Elasticsearch Service</a>.</p> <h2 id="examples"> <a href="#examples" class="anchor-heading" aria-labelledby="examples"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Examples </h2> <h3 id="running-a-single-node-of-elasticsearch-71-with-logstash"> <a href="#running-a-single-node-of-elasticsearch-71-with-logstash" class="anchor-heading" aria-labelledby="running-a-single-node-of-elasticsearch-71-with-logstash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Running a single node of Elasticsearch 7.1 with Logstash </h3> <div class="language-terraform highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">module</span> <span class="s2">"myproject"</span> <span class="p">{</span>
  <span class="nx">source</span> <span class="p">=</span> <span class="s2">"github.com/provose/provose?ref=v2.0.0"</span>
  <span class="nx">provose_config</span> <span class="p">=</span> <span class="p">{</span>
    <span class="nx">authentication</span> <span class="p">=</span> <span class="p">{</span>
      <span class="nx">aws</span> <span class="p">=</span> <span class="p">{</span>
        <span class="nx">region</span> <span class="p">=</span> <span class="s2">"us-east-1"</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">name</span>                 <span class="p">=</span> <span class="s2">"myproject"</span>
    <span class="nx">internal_root_domain</span> <span class="p">=</span> <span class="s2">"example-internal.com"</span>
    <span class="nx">internal_subdomain</span>   <span class="p">=</span> <span class="s2">"production"</span>
  <span class="p">}</span>
  <span class="nx">elasticsearch_clusters</span> <span class="p">=</span> <span class="p">{</span>
    <span class="c1"># This creates one Elasticsearch cluster named `ecsluster`</span>
    <span class="nx">escluster</span> <span class="p">=</span> <span class="p">{</span>
      <span class="nx">engine_version</span> <span class="p">=</span> <span class="s2">"7.1"</span>
      <span class="nx">instances</span> <span class="p">=</span> <span class="p">{</span>
        <span class="nx">instance_type</span>           <span class="p">=</span> <span class="s2">"t2.small.elasticsearch"</span>
        <span class="nx">instance_count</span>          <span class="p">=</span> <span class="mi">1</span>
        <span class="nx">storage_per_instance_gb</span> <span class="p">=</span> <span class="mi">20</span>
      <span class="p">}</span>
      <span class="c1"># This spins up an additional `t2.small` EC2 instance running</span>
      <span class="c1"># a Logstash instance that will forward inputs to the `escluster`</span>
      <span class="c1"># Elasticsearch cluster.</span>
      <span class="c1"># You could connect to this Logstash instance on UDP port 5959</span>
      <span class="c1"># on escluster-logstash.production.example-internal.com</span>
      <span class="nx">logstash</span> <span class="p">=</span> <span class="p">{</span>
        <span class="nx">instance_type</span> <span class="p">=</span> <span class="s2">"t2.small"</span>
        <span class="nx">key_name</span>      <span class="p">=</span> <span class="s2">"james_laptop"</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div> <h2 id="inputs"> <a href="#inputs" class="anchor-heading" aria-labelledby="inputs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Inputs </h2> <ul> <li> <p><code class="language-plaintext highlighter-rouge">engine_version</code> – <strong>Required.</strong> The version of Elasticsearch to deploy, like <code class="language-plaintext highlighter-rouge">"7.4"</code>. You can find the currently-available versions of Elasticsearch <a href="https://aws.amazon.com/elasticsearch-service/faqs/">on the AWS website here</a>.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">instances</code> – <strong>Required.</strong> Settings for the instances running Elasticsearch.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">instance_type</code> – <strong>Required.</strong> The Elasticsearch-specific instance type, such as <code class="language-plaintext highlighter-rouge">"t2.small.elasticsearch"</code>. You can find a list of supported instance types on the <a href="https://aws.amazon.com/elasticsearch-service/pricing/">AWS Elasticsearch service pricing page</a>.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">instance_count</code> – <strong>Required.</strong> The number of instances to deploy for the Elasticsearch cluster.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">storage_per_instance_gb</code> – <strong>Required.</strong> The amount of storage to provision–in gigabytes–for each instance in the cluster.</p> </li> </ul> </li> <li> <p><code class="language-plaintext highlighter-rouge">logstash</code> – <strong>Optional.</strong> Optional settings to install Logstash on an EC2 instance that would write logs into the Elasticsearch cluster. <a href="https://www.elastic.co/logstash">Logstash</a> is a data processing engine commonly used to format and redirect logs for indexing into Elasticsearch. It is not a required component to Elasticsearch, so Logstash configuration is purely optional. There are <a href="#how-to-use-provose-to-deploy-logstash">more details below</a> about how to configure and use Logstash with Provose.</p> <ul> <li> <p><code class="language-plaintext highlighter-rouge">instance_type</code> – <strong>Required.</strong> The EC2 instance type to run Logstash on, like <code class="language-plaintext highlighter-rouge">"t2.small"</code>.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">key_name</code> – <strong>Optional.</strong> The name of an AWS EC2 key pair that can be used to log into the Logstash instance.</p> </li> </ul> </li> </ul> <h2 id="outputs"> <a href="#outputs" class="anchor-heading" aria-labelledby="outputs"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Outputs </h2> <ul> <li> <p><code class="language-plaintext highlighter-rouge">elasticsearch_clusters.aws_security_group.elasticsearch</code> – The AWS security group used to govern access to the Elasticsearch cluster.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">elasticsearch_clusters.aws_elasticsearch_domain.elasticsearch</code> – The <code class="language-plaintext highlighter-rouge">aws_elasticsearch_domain</code> object that defines the Elasticsearch cluster.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">elasticsearch_clusters.aws_lb_listener_rule.elasticsearch</code> – The listener rule for the AWS Application Load Balancer (ALB) that redirects DNS names to the cluster. This is for the VPC-only ALB that Provose provisions.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">elasticsearch_clusters.aws_route53_record.elasticsearch</code> – The Route 53 DNS record that gives a friendly DNS name to the Elasticsearch cluster.</p> </li> <li> <p><code class="language-plaintext highlighter-rouge">elasticsearch_clusters.aws_route53_record.es_kibana</code> – The Route 53 DNS record that gives a friendly DNS name to the Kibana endpoint.</p> </li> </ul> <h2 id="implementation-details"> <a href="#implementation-details" class="anchor-heading" aria-labelledby="implementation-details"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Implementation details </h2> <h3 id="how-dns-works-for-provose-elasticsearch-clusters"> <a href="#how-dns-works-for-provose-elasticsearch-clusters" class="anchor-heading" aria-labelledby="how-dns-works-for-provose-elasticsearch-clusters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How DNS works for Provose Elasticsearch clusters </h3> <p>The Amazon Elasticsearch service creates long and hard-to-remember names for clusters and their associated Kibana dashboards.</p> <p>Provose sets up an internal Application Load Balancer to map an easy-to-remember DNS name name to the cluster. This DNS name, load balancer, Elasticsearch cluster, and Kibana dashboard is <strong>not</strong> available on the public Internet. For security reasons, they are all <strong>only</strong> available within the VPC that Provose creates for Elasticsearch cluster.</p> <p>The internal Application Load Balance redirects requests to the Elasticsearch cluster or Kibana dashboard via an HTTP 301 redirect. Some Elasticsearch clients–such as the one Logstash uses–will treat the HTTP 301 code as an error as opposed to following the redirect. For these clients, you will need to use the DNS name for the Elasticsearch cluster or the Kibana dashboard set by AWS.</p> <p>Provose also offers its own deployment of Logstash that is configured to work correctly with Provose’s deployment of Elasticsearch.</p> <h3 id="how-to-use-provose-to-deploy-logstash"> <a href="#how-to-use-provose-to-deploy-logstash" class="anchor-heading" aria-labelledby="how-to-use-provose-to-deploy-logstash"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How to use Provose to deploy Logstash </h3> <p>The Provose <code class="language-plaintext highlighter-rouge">elasticsearch_clusters</code> module allows the provisioning of Logstash on an AWS EC2 instance. Logstash is a data processing engine used to commonly format and ingest logs for indexing into Elasticsearch. Logstash is not a required component to Elasticsearch, so Logstash configuration is purely optional.</p> <p>This Logstash configuration is for development purposes only. It will not autoscale to large amounts of logs to be ingested.</p> <p>If your <code class="language-plaintext highlighter-rouge">provose_config.internal_root_domain</code> is <code class="language-plaintext highlighter-rouge">"example.com"</code>, your <code class="language-plaintext highlighter-rouge">provose_config.internal_subdomain</code> is <code class="language-plaintext highlighter-rouge">"subdomain"</code>, and your Elasticsearch cluster name is <code class="language-plaintext highlighter-rouge">"cluster"</code>, then the Logstash DNS name is <code class="language-plaintext highlighter-rouge">"cluster-logstash.subdomain.example.com"</code> on UDP port 5959. Provose currently does not support advanced Logstash configurations. If you need that, you should consider running your own Logstash instance through either the Provose <code class="language-plaintext highlighter-rouge">ec2_instances</code> or <code class="language-plaintext highlighter-rouge">containers</code> modules.</p> <h3 id="the-differences-between-amazon-elasticsearch-service-and-elasticcos-elasticsearch"> <a href="#the-differences-between-amazon-elasticsearch-service-and-elasticcos-elasticsearch" class="anchor-heading" aria-labelledby="the-differences-between-amazon-elasticsearch-service-and-elasticcos-elasticsearch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> The differences between Amazon Elasticsearch Service and Elastic.co’s Elasticsearch </h3> <p>Elasticsearch is an open-source search engine and database that is primarily maintained by the company Elastic NV.</p> <p>Elastic has created various proprietary add-ons for Elasticsearch. These are generally not available on the AWS Elasticsearch Service. However, Amazon has developed many equivalent features and released them under the Apache 2.0 license as the <a href="https://opendistro.github.io/for-elasticsearch/">Open Distro for Elasticsearch</a>.</p> <p>If the Open Distro does not fit your needs and you want to use Elastic’s proprietary features, Provose’s <code class="language-plaintext highlighter-rouge">elasticsearch_clusters</code> module will not be able to fulfill your needs.</p> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Copyright &copy; 2020-2021 <a href="https://neocrym.com">Neocrym Records Inc</a>. Distributed via an <a href="https://github.com/provose/provose/blob/master/LICENSE">MIT license</a>. <a href="/privacy/">Privacy Policy</a>.</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
